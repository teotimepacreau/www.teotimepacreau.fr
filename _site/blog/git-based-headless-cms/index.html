<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="/css/style.css" />

 
<!-- STYLE FOR CODE BLOCKS -->
<link rel="stylesheet" href="/css/prism-duotone-forest.css" />
<link rel="stylesheet" href="/css/partage.css" />
 

<!-- Auto detection of the RSS feed for RSS readers -->
<link
  rel="alternate"
  href="/feed/feed.xml"
  title="Flux RSS du blog de Téotime Pacreau"
  type="application/atom+xml"
/>

<!--Favicon-->
<link rel="icon" href="/favicon/favicon.svg" />
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/favicon.svg" />
<link rel="mask-icon" href="/favicon/favicon.svg" />

<!--Theme-->
<meta
  name="msapplication-TileColor"
  content="#c3e2ff"
  media="(prefers-color-scheme: dark)"
/>


<!--Social-->
<link href="https://twitter.com/teotimepacreau" rel="me"/>
<link href="https://mastodon.design/@teotimepacreau" rel="me"/>
<meta name="fediverse:creator" content="@teotimepacreau@mastodon.design" />
<meta name="generator" content="Eleventy"/>

<!-- open graph tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@teotimepacreau">
<meta name="twitter:creator" content="@teotimepacreau">
<meta property="twitter:title" content="Tour d&#39;horizon des CMS Headless basés sur Git">
<meta name="robots" content="max-image-preview:large">
<meta property="og:locale" content="fr_FR">
<meta property="og:image:type" content="image/png">
<meta property="og:type" content="article" />
<meta property="article:tag" content="CMS,Git" />
<meta property="article:published_time" content="2024-01-31" />
<meta property="og:site_name" content="Téotime Pacreau" />
<meta property="og:title" content="Tour d&#39;horizon des CMS Headless basés sur Git" />
<meta property="og:description" content="Pourquoi utiliser un CMS ? Quel est l&#39;intérêt d&#39;un CMS Headless qui se base sur Git ? Quelles solutions sont à disposition ?" />
<meta name="topic" content="Numérique, Nantes, web, développement, gestion de projet, management, UI, Indieweb, AMOA">
<meta name="keywords" content="Numérique, Nantes, web, développement, frontend, backend, gestion de projet, management, UI, Indieweb, AMOA"/>
<meta name="author" content="Téotime Pacreau" />
<meta name="owner" content="Téotime Pacreau">

<!-- auto generator of OpenGraph images -->
<meta property="og:image" content="/og-images/afd47429.png" />

<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://www.teotimepacreau.fr/#website",
      "url": "https://www.teotimepacreau.fr/",
      "name": "Le site web personnel de Teotime Pacreau : Développement web et management de projets numériques à Nantes",
      "description": "Développement web et management de projets numériques à Nantes"
    },
    {
      "@type": "WebPage",
      "mainEntityOfPage": {
        "@type": "WebPage"
      },
      "isPartOf": {
        "@id": "https://www.teotimepacreau.fr/#website"
      },
      "headline": "Tour d&#39;horizon des CMS Headless basés sur Git",
      "description": "Pourquoi utiliser un CMS ? Quel est l&#39;intérêt d&#39;un CMS Headless qui se base sur Git ? Quelles solutions sont à disposition ?",
      "image": "",
      "publisher": {
        "@type": "Organization",
        "name": "Le site web personnel de Teotime Pacreau : Développement web et management de projets numériques à Nantes",
        "url": "https://www.teotimepacreau.fr/#organization"
      }
    }
  ]
}</script>

<title>Tour d&#39;horizon des CMS Headless basés sur Git</title>
  </head>
  <body>
    <form
  class="color-picker"
  aria-label="Sélecteur de thème coloré"
  action=""
>
  <fieldset>
    <legend class="visually-hidden">Choisir un thème de couleur</legend>
    <div id="light-group" class="color-select-group">
      <label for="light">Light</label>
      <input type="radio" name="theme" id="light" />
    </div>
    <div id="dark-group" class="color-select-group">
      <label for="dark">Dark</label>
      <input type="radio" id="dark" name="theme" />
    </div>
  </fieldset>
</form>

    <div class="wrapper-post">
      <div class="post-grid">
        <header id="post-header">
          <button
  class="mobile-nav-toggle"
  type="button"
  aria-label="ouvrir la navigation principale"
  popovertarget="mobile-navigation"
  popovertargetaction="show"
  aria-haspopup="true"
  aria-controls="mobile-navigation"
>
  <svg
    aria-hidden="true"
    id="hamburger-icon"
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    fill="var(--txt)"
    viewBox="0 0 256 256"
  >
    <path
      d="M222,128a6,6,0,0,1-6,6H40a6,6,0,0,1,0-12H216A6,6,0,0,1,222,128ZM40,70H216a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12ZM216,186H40a6,6,0,0,0,0,12H216a6,6,0,0,0,0-12Z"
    ></path>
  </svg>
</button>
<nav
  id="mobile-navigation"
  aria-label="Principale"
  popover
>
  <button id="hamburger-button-close" aria-label="fermer la navigation principale" aria-controls="mobile-navigation" popovertarget="mobile-navigation" popovertargetaction="hide" style="border: 0; background-color: unset;">
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"></path></svg>
  </button>
  <ul class="menu">
    <li><a href="/index">HOME</a></li>
    <li><a href="/curriculum">CV</a></li>
    <li><a href="/blog">BLOG</a></li>
    <li><a href="/projets">PROJETS</a></li>
    <li><a href="/colophon">COLOPHON</a></li>
  </ul>
</nav>

          <nav
  class="navigation-flexer navigation-flexer-post" 
  id="primary-navigation"
  aria-label="Principale"
>
  <span aria-hidden="true" id="navigation-announcer" >NAVIGATION</span>
  <ul class="menu"id="post-menu">
    <li><a href="/index">HOME</a></li>
    <li><a href="/curriculum">CV</a></li>
    <li><a href="/blog">BLOG</a></li>
    <li><a href="/projets">PROJETS</a></li>
    <li><a href="/colophon">COLOPHON</a></li>
  </ul>
</nav>

        </header>
        <aside><nav class="table-of-content" aria-label="Table de contenu">
        <ol><li><a href="#qu%E2%80%99est-ce-qu%E2%80%99un-cms-%3F">Qu’est-ce qu’un CMS ?</a></li><li><a href="#les-2-types-de-cms-%3A-traditionnel-et-headless">Les 2 types de CMS : traditionnel et headless</a></li><li><a href="#pourquoi-adosser-un-cms-headless-%C3%A0-git-%3F">Pourquoi adosser un CMS Headless à Git ?</a></li><li><a href="#cms-headless-git-based-conseill%C3%A9s">CMS Headless Git Based conseillés</a></li><li><a href="#comparaison-de-deux-cms-headless-git-based">Comparaison de deux CMS Headless Git based</a><ol><li><a href="#decap-cms">Decap CMS</a><ol><li><a href="#philosophie-de-decap-cms">Philosophie de DECAP CMS</a></li><li><a href="#comment-impl%C3%A9menter-decap-cms-%3F">Comment implémenter Decap CMS ?</a></li></ol></li><li><a href="#tina-cms">Tina CMS</a><ol><li><a href="#philosophie-de-tina-cms">Philosophie de Tina CMS</a></li><li><a href="#comment-impl%C3%A9menter-tina-cms-%3F">Comment implémenter Tina CMS ?</a></li></ol></li></ol></li><li><a href="#sources">Sources</a></li></ol>
      </nav></aside>
        <main class="post-main">
          <article id="post">
            <header>
              <h1>Tour d&#39;horizon des CMS Headless basés sur Git</h1>
              <ul class="post-tags">
                
                <li>
                  <a href="/tags/cms">CMS</a>
                </li>
                
                <li>
                  <a href="/tags/git">Git</a>
                </li>
                
              </ul>
              <span class="post-date">
                Publié le
                <time datetime="2024-01-31">
                  31 janvier 2024
                </time>
              </span>
              
              <p>Pourquoi utiliser un CMS ? Quel est l&#39;intérêt d&#39;un CMS Headless qui se base sur Git ? Quelles solutions sont à disposition ?</p>
            </header>
            <h2 id="qu%E2%80%99est-ce-qu%E2%80%99un-cms-%3F" tabindex="-1">Qu’est-ce qu’un CMS ?</h2>
<p>CMS désigne Content Management System, il s’agit d’un système qui rend possible de créer, gérer de modifier facilement un site web, sans avoir besoin de connaissances techniques en langage informatique.
L’implémentation d’un CMS est donc particulièrement utile dans le développement d’un site web, afin de permettre aux non-initiés d’administrer le site.</p>
<h2 id="les-2-types-de-cms-%3A-traditionnel-et-headless" tabindex="-1">Les 2 types de CMS : traditionnel et headless</h2>
<p>Le CMS le plus connu, Wordpress, est traditionnel dans le sens où l’administrateur vient modifier visuellement le contenu du site, ce qui entraîne une mise à jour de la base de données. Le frontend et le backend sont intrinsèquement liés, ce qui limite les possibilités de personnalisation de l’affichage et contraint à utiliser des rendus visuels normés issus de template.</p>
<p>Un CMS Headless, quand à lui, ne s’intéresse qu’au backend et vise donc à répertorier le contenu. Cela permet de séparer les données (le “corps”) de la manière dont elles sont présentées (la “tête”), d’où le terme “headless”. Un développeur peut ainsi utiliser la technologie de son choix sans se soucier de l’impact sur le frontend, et réutiliser le contenu pour tout type de support de sortie (site web, application, logiciel…)</p>
<h2 id="pourquoi-adosser-un-cms-headless-%C3%A0-git-%3F" tabindex="-1">Pourquoi adosser un CMS Headless à Git ?</h2>
<p>Un CMS Headless basé sur Git permet de :</p>
<ul>
<li>versionner le contenu, ce qui facilite la restauration du contenu antérieur en cas de mauvaise manipulation</li>
<li>“ramifier”(git branch), pour créer des bifurcations de contenu par exemple, déployables à tout moment</li>
<li>échapper aux verrous de propriété que pourrait imposer l’éditeur du CMS</li>
<li>enlever une couche de complexité car il n’y a pas de base de données à gérer car tout le contenu est répertorié dans des dossiers/documents</li>
</ul>
<p>Notre contenu prend forme au moyen de fichiers Markdown. Ceux-ci vont contenir toutes les données associées au fichier dans le <em>frontmatter</em> (ex: date, description, titre, etc…) ainsi que le corps du document. Il est alors très simple de créer, éditer et supprimer ce type de fichier 100% versionné par Git.</p>
<h2 id="cms-headless-git-based-conseill%C3%A9s" tabindex="-1">CMS Headless Git Based conseillés</h2>
<ul>
<li><a href="https://www.staticcms.org/">Static CMS</a> <a href="https://mastodon.design/@timotheegoguely/111851562642935066">conseillé par Timothée Goguely, voir l’échange</a>, pas encore creusé de mon côté</li>
<li><a href="https://decapcms.org/">Decap CMS</a></li>
<li><a href="https://tina.io/">Tina CMS</a></li>
<li><a href="https://mattrbld.com/">Mattrbld</a> <a href="https://mastodon.design/@timotheegoguely/111852331418845469">conseillé par Timothée Goguely, voir l’échange</a>, pas encore creusé de mon côté</li>
</ul>
<h2 id="comparaison-de-deux-cms-headless-git-based" tabindex="-1">Comparaison de deux CMS Headless Git based</h2>
<h3 id="decap-cms" tabindex="-1">Decap CMS</h3>
<table>
<thead>
<tr>
<th>Interface d’édition en français</th>
<th>Pré-visualition de l’édition</th>
<th>Support d’authentification</th>
<th>Edition possible en localhost</th>
<th>Dépendance à une plateforme pour le déploiement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Oui</td>
<td>Oui</td>
<td>Github, Gitlab, Bitbucket(Jira)</td>
<td>Possible mais conditionné à une configuration alternative (pas possible d’avoir les changements sur le repo distant et local en même temps)</td>
<td>plus facile sur Netlify mais possible de déployer ailleurs avec beaucoup de configuration</td>
</tr>
</tbody>
</table>
<h4 id="philosophie-de-decap-cms" tabindex="-1">Philosophie de DECAP CMS</h4>
<ul>
<li>pas d’API fournie, tout le workflow est basé sur Git</li>
<li>très facile à installer (deux fichiers à copier coller), dépendances non obligatoire</li>
<li>customisation du CMS uniquement en language YAML</li>
<li>pas de cloud associé pour gérer le contenu à distance</li>
<li>interface sobre mais efficace</li>
</ul>
<h4 id="comment-impl%C3%A9menter-decap-cms-%3F" tabindex="-1">Comment implémenter Decap CMS ?</h4>
<ol>
<li>Installer la dernière version de DECAP CMS via <code>npm install decap-cms</code></li>
<li>Dans le dossier qui sert les <code>assets</code> habituellement créer un dossier <code>admin</code></li>
<li>Au sein du dossier <code>admin</code> créer un fichier <code>index.html</code> et un fichier <code>config.yml</code></li>
</ol>
<figure><img src="/img/decap-project-structure.png" alt="Exemple de structuration des dossiers pour DECAP CMS"><figcaption>Exemple de structuration des dossiers pour DECAP CMS</figcaption></figure>
<ol start="4">
<li>Le fichier <code>index.html</code> est le point d’entrée pour l’interface d’administration de DECAP CMS, coller dedans :</li>
</ol>
<pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>robots<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>noindex<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://identity.netlify.com/v1/netlify-identity-widget.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Content Manager<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- Include the script that builds the page and powers Decap CMS --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre>
<ol start="5">
<li><code>config.yml</code> est le coeur de la configuration du CMS : il permet de créer les différents champs de saisie et de paramétrer le fonctionnement global du CMS, coller dedans :</li>
</ol>
<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">local_backend</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># Si besoin d'utiliser le CMS en localhost, si site déjà déployé supprimer cette ligne</span>

<span class="token key atrule">backend</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> git<span class="token punctuation">-</span>gateway


<span class="token comment"># These lines should *not* be indented</span>
<span class="token key atrule">media_folder</span><span class="token punctuation">:</span> <span class="token string">"static/uploads"</span>  <span class="token comment"># Media files will be stored in the repo under static/uploads</span>
<span class="token key atrule">public_folder</span><span class="token punctuation">:</span> <span class="token string">"/uploads"</span>  <span class="token comment"># The src attribute for uploaded media will begin with /uploads</span>

<span class="token key atrule">collections</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"articles"</span>  <span class="token comment"># Used in routes, e.g., /admin/collections/articles</span>
    <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Articles"</span>  <span class="token comment"># Displayed in the UI</span>
    <span class="token key atrule">folder</span><span class="token punctuation">:</span> <span class="token string">"src/articles"</span>  <span class="token comment"># The path to the folder where the documents are stored</span>
    <span class="token key atrule">create</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment"># Allow users to create new documents in this collection</span>
    <span class="token key atrule">slug</span><span class="token punctuation">:</span> <span class="token string">""</span>  <span class="token comment"># Filename template, e.g., title.md</span>
    <span class="token key atrule">fields</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Layout"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"layout"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"hidden"</span><span class="token punctuation">,</span> <span class="token key atrule">default</span><span class="token punctuation">:</span> <span class="token string">"blog"</span> <span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Title"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Description"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"description"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"string"</span> <span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Publish Date"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"date"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"datetime"</span> <span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Featured Photo"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"featured"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span> <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token punctuation">}</span>
      <span class="token punctuation">-</span> <span class="token punctuation">{</span> <span class="token key atrule">label</span><span class="token punctuation">:</span> <span class="token string">"Body"</span><span class="token punctuation">,</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"body"</span><span class="token punctuation">,</span> <span class="token key atrule">widget</span><span class="token punctuation">:</span> <span class="token string">"markdown"</span> <span class="token punctuation">}</span></code></pre>
<ol start="6">
<li>
<p>A partir d’ici il est nécessaire de déployer le site sur Netlify même pour faire simplement fonctionner le CMS en localhost</p>
</li>
<li>
<p>Dans la configuration sur le site de Netlify il faut commencer par activer “l’identity” pour permettre aux futurs utilisateurs d’utiliser le CMS :</p>
</li>
</ol>
<figure><img src="/img/netlify-identity.png" alt="Activation identity Netlify"><figcaption>Activation identity Netlify</figcaption></figure>
<ol start="8">
<li>Puis il faut enregistrer Github comme provider :</li>
</ol>
<figure><img src="/img/github-provider.png" alt="Activation de Github provider sous Netlify"><figcaption>Activation de Github provider sous Netlify</figcaption></figure>
<ol start="9">
<li>Dernière étape de la configuration Netlify : l’activation de Git-Gateway pour permettre à Github de communiquer avec notre CMS</li>
</ol>
<figure><img src="/img/git-gateway.png" alt="Activation de Git-gateway sous Netlify"><figcaption>Activation de Git-gateway sous Netlify</figcaption></figure>
<ol start="10">
<li>
<p>Pour lancer DECAP CMS en localhost il faut le lancer <strong>en parallèle</strong> du serveur de développement. Donc un premier terminal avec <code>npm run dev</code> pour lancer le serveur de développement classique de votre site et un second terminal avec <code>npx decap-server</code>. Si les 2 ne sont pas run en parallel, il ne sera pas possible d’accéder à Decap CMS en localhost, celui-ci renverra constamment vers la version déployée.</p>
</li>
<li>
<p>Se rendre sur la page d’adminstration du CMS à partir de votre serveur de developpement local “<a href="http://localhost:5173/admin/index.html">http://localhost:5173/admin/index.html</a>”</p>
</li>
<li>
<p>Permettre la connexion via Github</p>
</li>
</ol>
<figure><img src="/img/demande-connexion-decap.png" alt="Demande de première connexion DECAP CMS"><figcaption>Demande de première connexion DECAP CMS</figcaption></figure>
<figure><img src="/img/netlify-login-cms.png" alt="Autoriser la connexion via Github"><figcaption>Autoriser la connexion via Github</figcaption></figure>
<ol start="13">
<li>L’accès à l’interface d’administration est enfin possible</li>
</ol>
<figure><img src="/img/admin-decap.png" alt="Interface d'administration de DECAP CMS"><figcaption>Interface d’administration de DECAP CMS</figcaption></figure>
<figure><img src="/img/creation-article-decap.png" alt="Création d'un article sous DECAP CMS"><figcaption>Création d’un article sous DECAP CMS</figcaption></figure>
<h3 id="tina-cms" tabindex="-1">Tina CMS</h3>
<table>
<thead>
<tr>
<th>Interface d’édition en français</th>
<th>Pré-visualition de l’édition</th>
<th>Support d’authentification</th>
<th>Edition possible en localhost</th>
<th>Dépendance à une plateforme pour le déploiement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Non</td>
<td>Non (à moins d’utiliser React)</td>
<td>Uniquement via des serverless functions de Vercel ou Netlify</td>
<td>Activé par défaut (0 config)</td>
<td>Tina Cloud gratuit pour déployer CMS jusqu’à 2 utilisateurs, possible de sinon de déployer sur toutes plateformes</td>
</tr>
</tbody>
</table>
<h4 id="philosophie-de-tina-cms" tabindex="-1">Philosophie de Tina CMS</h4>
<ul>
<li>API GraphQL fournie par défaut (requêtes sont pré-faites nativement en fonction du schéma de données)</li>
<li>très facile à installer mais nécessite dépendance NPM</li>
<li>customisation du CMS en fichier JS très simple via les objets</li>
<li>Tina cloud gratuit jusqu’à 2 utilisateurs pour ne pas avoir besoin de déployer le CMS</li>
<li>interface moderne et soignée</li>
</ul>
<h4 id="comment-impl%C3%A9menter-tina-cms-%3F" tabindex="-1">Comment implémenter Tina CMS ?</h4>
<ol>
<li>
<p>Installer la dernière version de Tina CMS via <code> npx @tinacms/cli@latest init</code></p>
</li>
<li>
<p>Mettre à jour les scripts de lancement du serveur de développement local pour run en parallele le CMS</p>
</li>
</ol>
<pre class="language-json"><code class="language-json"> <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"tinacms dev -c \"vite dev\""</span><span class="token punctuation">,</span>
		<span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"tinacms build &amp;&amp; vite build"</span><span class="token punctuation">,</span>
		<span class="token property">"preview"</span><span class="token operator">:</span> <span class="token string">"vite preview"</span>
  <span class="token punctuation">}</span></code></pre>
<ol start="3">
<li>Pour lancer Tina CMS et visiter la page d’administration il suffit de lancer la commande <code>npm run dev</code> et de visiter “<a href="http://localhost:5173/admin/index.html">http://localhost:5173/admin/index.html</a>”</li>
</ol>
<figure><img src="/img/tina-home.png" alt="Page d'administration Tina CMS"><figcaption>Page d’administration Tina CMS</figcaption></figure>
<ol start="4">
<li>Pour customiser les champs d’entrée il suffit de modifier l’objet ‘collections’ ./tina/config.js</li>
</ol>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"tinacms"</span><span class="token punctuation">;</span>

<span class="token comment">// Your hosting provider likely exposes this as an environment variable</span>
<span class="token keyword">const</span> branch <span class="token operator">=</span>
  process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GITHUB_BRANCH</span> <span class="token operator">||</span>
  process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VERCEL_GIT_COMMIT_REF</span> <span class="token operator">||</span>
  process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">HEAD</span> <span class="token operator">||</span>
  <span class="token string">"tina"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  branch<span class="token punctuation">,</span>

  <span class="token comment">// Get this from tina.io</span>
  <span class="token literal-property property">clientId</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NEXT_PUBLIC_TINA_CLIENT_ID</span><span class="token punctuation">,</span>
  <span class="token comment">// Get this from tina.io</span>
  <span class="token literal-property property">token</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">TINA_TOKEN</span><span class="token punctuation">,</span>

  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">outputFolder</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicFolder</span><span class="token operator">:</span> <span class="token string">"static"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">media</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">tina</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">mediaRoot</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token literal-property property">publicFolder</span><span class="token operator">:</span> <span class="token string">"static"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// See docs on content modeling for more info on how to setup new content models: https://tina.io/docs/schema/</span>
  <span class="token literal-property property">schema</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">collections</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"article"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Articles"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"src/articles"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fields</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"titre"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Titre"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">isTitle</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"desc"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Description"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'datetime'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'Date'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Image"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"string"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"imagealt"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Description de l'image"</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"rich-text"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"body"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Corps de texte"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">isBody</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ol start="5">
<li>
<p>Les champs créés viennent modifier l’API GraphQL, le CMS génère nativement les requêtes types dans le dossier <code>./tina/__generated__/client</code></p>
</li>
<li>
<p>Aller chercher les données de l’API : TinaCMS génère automatiquement deux requêtes types que l’on peut retrouver dans ./tina/__generated/queries.gql :</p>
</li>
</ol>
<p>Obtenir plusieurs articles et leur détails via blablablaConnection</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../[pathToTina]/tina/__generated__/client'</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>queries<span class="token punctuation">.</span><span class="token function">articleConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">articleConnection</span><span class="token operator">:</span> <span class="token punctuation">{</span> edges <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span> <span class="token operator">=</span> result<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span></code></pre>
<p>Obtenir un seul article et ses détails (mais indiquer son path est obligatoire)</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../[pathToTina]/tina/__generated__/client'</span>

<span class="token keyword">const</span> myPost <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>queries<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">relativePath</span><span class="token operator">:</span> <span class="token string">'HelloWorld.md'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myPost<span class="token punctuation">.</span>data<span class="token punctuation">.</span>title<span class="token punctuation">)</span></code></pre>
<ol start="7">
<li>Les supports d’authentification nécessaire à la connexion pour les futurs utilisateurs avec le repo distant peuvent être configuré ultérieurement</li>
</ol>
<h2 id="sources" tabindex="-1">Sources</h2>
<p><a href="https://decapcms.org/docs/add-to-your-site/">https://decapcms.org/docs/add-to-your-site/</a>
<a href="https://tina.io/docs/">https://tina.io/docs/</a></p>

          </article>
          <div id="partage">
          <h2>Partager avec votre réseau</h2>
          <button id="partage-btn" type="button" aria-label="partager ce contenu">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M237.66,106.35l-80-80A8,8,0,0,0,144,32V72.35c-25.94,2.22-54.59,14.92-78.16,34.91-28.38,24.08-46.05,55.11-49.76,87.37a12,12,0,0,0,20.68,9.58h0c11-11.71,50.14-48.74,107.24-52V192a8,8,0,0,0,13.66,5.65l80-80A8,8,0,0,0,237.66,106.35ZM160,172.69V144a8,8,0,0,0-8-8c-28.08,0-55.43,7.33-81.29,21.8a196.17,196.17,0,0,0-36.57,26.52c5.8-23.84,20.42-46.51,42.05-64.86C99.41,99.77,127.75,88,152,88a8,8,0,0,0,8-8V51.32L220.69,112Z"></path></svg>
            Partager
          </button>
          </div>
        </main>
        <footer id="footer">
          <address>
  <a
    href="mailto:teotime.pac@outlook.fr?subject=Demande de contact depuis teotimepacreau.fr"
    >teotime.pac<span class="hidden">anti</span>&#64;<span class="hidden"
      >spam</span
    >outlook.fr</a
  >
  <a id="rss" href="/feed/feed.xml">
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M106.91,149.09A71.53,71.53,0,0,1,128,200a8,8,0,0,1-16,0,56,56,0,0,0-56-56,8,8,0,0,1,0-16A71.53,71.53,0,0,1,106.91,149.09ZM56,80a8,8,0,0,0,0,16A104,104,0,0,1,160,200a8,8,0,0,0,16,0A120,120,0,0,0,56,80Zm118.79,1.21A166.9,166.9,0,0,0,56,32a8,8,0,0,0,0,16A151,151,0,0,1,163.48,92.52,151,151,0,0,1,208,200a8,8,0,0,0,16,0A166.9,166.9,0,0,0,174.79,81.21ZM60,184a12,12,0,1,0,12,12A12,12,0,0,0,60,184Z"></path></svg>
    <span>RSS</span>
  </a>
</address>
<ul aria-label="Mes réseaux sociaux" id="links">
  <li>
    <a
      class="social-footer"
      href="https://github.com/teotimepacreau"
      target="_blank" rel="me"
    >
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M208.31,75.68A59.78,59.78,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58.14,58.14,0,0,0,208.31,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.83a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.83a8.09,8.09,0,0,0,1,7.65A41.72,41.72,0,0,1,200,104Z"></path></svg>
      <span>Github</span>
    </a>
  </li>
  <li>
    <a
      class="social-footer"
      href="https://mastodon.design/@teotimepacreau"
      target="_blank" rel="me"
    >
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M184,32H72A40,40,0,0,0,32,72V192a40,40,0,0,0,40,40h88a8,8,0,0,0,0-16H72a24,24,0,0,1-24-24v-8H184a40,40,0,0,0,40-40V72A40,40,0,0,0,184,32Zm24,112a24,24,0,0,1-24,24H48V72A24,24,0,0,1,72,48H184a24,24,0,0,1,24,24Zm-24-40v32a8,8,0,0,1-16,0V104a16,16,0,0,0-32,0v32a8,8,0,0,1-16,0V104a16,16,0,0,0-32,0v32a8,8,0,0,1-16,0V104a32,32,0,0,1,56-21.13A32,32,0,0,1,184,104Z"></path></svg>
      <span>Mastodon</span>
    </a>
  </li>
  <li>
    <a
      class="social-footer"
      href="https://www.linkedin.com/in/teotime-p-a1194b20a/"
      target="_blank" rel="me"
    >
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216V216ZM96,112v64a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0Zm88,28v36a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140ZM100,84A12,12,0,1,1,88,72,12,12,0,0,1,100,84Z"></path></svg>
      <span>LinkedIn</span>
    </a>
  </li>
</ul>
<ul aria-label="Scores de performance" id="stats">
  <li>
    <a
      class="social-footer"
      href="https://www.ecoindex.fr/resultat/?id=0b81b2d0-19ae-413a-8fcc-dac29c36ea9e"
      target="_blank"
      title="Consulter le score ecoindex de creasit.fr (nouvel onglet)"
      >Score d'éco-conception <span class="ecoindex">B</span></a
    >
  </li>
</ul>

        </footer>
        <!--Script pour ouvrir tous les liens markdown dans une nouvelle fenêtre-->
        <script>
          (function () {
            const links = document.querySelectorAll(
              "a[href^='https://'], a[href^='http://']"
            );
            const host = window.location.hostname;

            const isInternalLink = (link) => new URL(link).hostname === host;

            links.forEach((link) => {
              if (isInternalLink(link)) return;

              link.setAttribute("target", "_blank");
              link.setAttribute("rel", "noopener");
            });
          })();
        </script>
      </div>
    </div>
    <script fetchpriority="high" src="/scripts/colorTheme.js"></script>
<script defer src="/scripts/aria-current.js"></script>
    <script defer src="/scripts/table.js"></script>
    <script defer src="/scripts/share.js"></script>
  </body>
</html>
