<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="/css/style.css" />

 
<!-- STYLE FOR CODE BLOCKS -->
<link rel="stylesheet" href="/css/prism-duotone-forest.css" />
<link rel="stylesheet" href="/css/partage.css" />
 

<!-- Auto detection of the RSS feed for RSS readers -->
<link
  rel="alternate"
  href="/feed/feed.xml"
  title="Flux RSS du blog de Téotime Pacreau"
  type="application/atom+xml"
/>

<!--Favicon-->
<link rel="icon" href="/favicon/favicon.svg" />
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/favicon.svg" />
<link rel="mask-icon" href="/favicon/favicon.svg" />

<!--Theme-->
<meta
  name="msapplication-TileColor"
  content="#c3e2ff"
  media="(prefers-color-scheme: dark)"
/>


<!--Social-->
<link href="https://twitter.com/teotimepacreau" rel="me"/>
<link href="https://mastodon.design/@teotimepacreau" rel="me"/>
<meta name="fediverse:creator" content="@teotimepacreau@mastodon.design" />
<meta name="generator" content="Eleventy"/>

<!-- open graph tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@teotimepacreau">
<meta name="twitter:creator" content="@teotimepacreau">
<meta property="twitter:title" content="Accessibilité &amp; animations : laisser la main à l&#39;utilisateur avec prefers-reduced-motion">
<meta name="robots" content="max-image-preview:large">
<meta property="og:locale" content="fr_FR">
<meta property="og:image:type" content="image/png">
<meta property="og:type" content="article" />
<meta property="article:tag" content="Accessibilité,UX" />
<meta property="article:published_time" content="2024-03-17" />
<meta property="og:site_name" content="Téotime Pacreau" />
<meta property="og:title" content="Accessibilité &amp; animations : laisser la main à l&#39;utilisateur avec prefers-reduced-motion" />
<meta property="og:description" content="Certains utilisateurs peuvent ressentir une gêne face aux animations des pages web. Prefers-reduced-motion détecte si l&#39;utilisateur a demandé au système de minimiser la quantité d&#39;animation ou de mouvement." />
<meta name="topic" content="Numérique, Nantes, web, développement, gestion de projet, management, UI, Indieweb, AMOA">
<meta name="keywords" content="Numérique, Nantes, web, développement, frontend, backend, gestion de projet, management, UI, Indieweb, AMOA"/>
<meta name="author" content="Téotime Pacreau" />
<meta name="owner" content="Téotime Pacreau">

<!-- auto generator of OpenGraph images -->
<meta property="og:image" content="/og-images/705c948a.png" />

<script type="application/ld+json">{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://www.teotimepacreau.fr/#website",
      "url": "https://www.teotimepacreau.fr/",
      "name": "Le site web personnel de Teotime Pacreau : Développement web et management de projets numériques à Nantes",
      "description": "Développement web et management de projets numériques à Nantes"
    },
    {
      "@type": "WebPage",
      "mainEntityOfPage": {
        "@type": "WebPage"
      },
      "isPartOf": {
        "@id": "https://www.teotimepacreau.fr/#website"
      },
      "headline": "Accessibilité &amp; animations : laisser la main à l&#39;utilisateur avec prefers-reduced-motion",
      "description": "Certains utilisateurs peuvent ressentir une gêne face aux animations des pages web. Prefers-reduced-motion détecte si l&#39;utilisateur a demandé au système de minimiser la quantité d&#39;animation ou de mouvement.",
      "image": "",
      "publisher": {
        "@type": "Organization",
        "name": "Le site web personnel de Teotime Pacreau : Développement web et management de projets numériques à Nantes",
        "url": "https://www.teotimepacreau.fr/#organization"
      }
    }
  ]
}</script>

<title>Accessibilité &amp; animations : laisser la main à l&#39;utilisateur avec prefers-reduced-motion</title>
  </head>
  <body>
    <form
  class="color-picker"
  aria-label="Sélecteur de thème coloré"
  action=""
>
  <fieldset>
    <legend class="visually-hidden">Choisir un thème de couleur</legend>
    <div id="light-group" class="color-select-group">
      <label for="light">Light</label>
      <input type="radio" name="theme" id="light" />
    </div>
    <div id="dark-group" class="color-select-group">
      <label for="dark">Dark</label>
      <input type="radio" id="dark" name="theme" />
    </div>
  </fieldset>
</form>

    <div class="wrapper-post">
      <div class="post-grid">
        <header id="post-header">
          <button
  class="mobile-nav-toggle"
  type="button"
  aria-label="ouvrir la navigation principale"
  popovertarget="mobile-navigation"
  popovertargetaction="show"
  aria-haspopup="true"
  aria-controls="mobile-navigation"
>
  <svg
    aria-hidden="true"
    id="hamburger-icon"
    xmlns="http://www.w3.org/2000/svg"
    width="32"
    height="32"
    fill="var(--txt)"
    viewBox="0 0 256 256"
  >
    <path
      d="M222,128a6,6,0,0,1-6,6H40a6,6,0,0,1,0-12H216A6,6,0,0,1,222,128ZM40,70H216a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12ZM216,186H40a6,6,0,0,0,0,12H216a6,6,0,0,0,0-12Z"
    ></path>
  </svg>
</button>
<nav
  id="mobile-navigation"
  aria-label="Principale"
  popover
>
  <button id="hamburger-button-close" aria-label="fermer la navigation principale" aria-controls="mobile-navigation" popovertarget="mobile-navigation" popovertargetaction="hide" style="border: 0; background-color: unset;">
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"></path></svg>
  </button>
  <ul class="menu">
    <li><a href="/index">HOME</a></li>
    <li><a href="/curriculum">CV</a></li>
    <li><a href="/blog">BLOG</a></li>
    <li><a href="/projets">PROJETS</a></li>
    <li><a href="/colophon">COLOPHON</a></li>
  </ul>
</nav>

          <nav
  class="navigation-flexer navigation-flexer-post" 
  id="primary-navigation"
  aria-label="Principale"
>
  <span aria-hidden="true" id="navigation-announcer" >NAVIGATION</span>
  <ul class="menu"id="post-menu">
    <li><a href="/index">HOME</a></li>
    <li><a href="/curriculum">CV</a></li>
    <li><a href="/blog">BLOG</a></li>
    <li><a href="/projets">PROJETS</a></li>
    <li><a href="/colophon">COLOPHON</a></li>
  </ul>
</nav>

        </header>
        <aside><nav class="table-of-content" aria-label="Table de contenu">
        <ol><li><a href="#laisser-la-main-%C3%A0-l%E2%80%99utilisateur-concernant-l%E2%80%99affichage-des-animations">Laisser la main à l’utilisateur concernant l’affichage des animations</a></li><li><a href="#s%E2%80%99en-saisir-en-tant-que-d%C3%A9veloppeur">S’en saisir en tant que développeur</a></li><li><a href="#d%C3%A9monstration">Démonstration</a></li><li><a href="#sources">Sources</a></li></ol>
      </nav></aside>
        <main class="post-main">
          <article id="post">
            <header>
              <h1>Accessibilité &amp; animations : laisser la main à l&#39;utilisateur avec prefers-reduced-motion</h1>
              <ul class="post-tags">
                
                <li>
                  <a href="/tags/accessibilite">Accessibilité</a>
                </li>
                
                <li>
                  <a href="/tags/ux">UX</a>
                </li>
                
              </ul>
              <span class="post-date">
                Publié le
                <time datetime="2024-03-17">
                  17 mars 2024
                </time>
              </span>
              
              <p>Certains utilisateurs peuvent ressentir une gêne face aux animations des pages web. Prefers-reduced-motion détecte si l&#39;utilisateur a demandé au système de minimiser la quantité d&#39;animation ou de mouvement.</p>
            </header>
            <p>Le “Responsive Design” ne se limite plus à adapter l’affichage d’un site web au format desktop et mobile. Il est nécessaire de prendre en compte de nouveaux éléments :</p>
<ul>
<li>Être responsive à l’utilisateur : prendre en compte ses préférences avec, par exemple, <code>dark-mode/light-mode</code>, <code>prefers-reduced-motion</code>, <code>prefers-contrast</code>…</li>
<li>Être responsive aux composants eux-mêmes : un composant carte peut être recomposée en fonction de la largeur d’écran disponible mais aussi de sa hauteur intrinsèque.</li>
<li>Être responsive aux nouveaux appareils : smartphones pliables, montres connectées.
Cette approche est appelée le “New Responsive Design”
<img src="/img/new-responsive.png" alt="Graphique reprenant les éléments essentiels de l'approche New Responsive Design" title="Graphique reprenant les éléments essentiels de l'approche New Responsive Design"></li>
</ul>
<h2 id="laisser-la-main-%C3%A0-l%E2%80%99utilisateur-concernant-l%E2%80%99affichage-des-animations" tabindex="-1">Laisser la main à l’utilisateur concernant l’affichage des animations</h2>
<p><code>prefers-reduced-motion</code> a été intégré entre 2018 et 2020 sur tous les navigateurs. C’est une préférence activable dans les paramètres du navigateurs, celle-ci prend deux états :</p>
<ul>
<li><code>reduced</code> : indique que l’utilisateur souhaitent que les interfaces minimisent le mouvement ou l’animation, de préférence au point où tous les mouvements non essentiels sont supprimés.</li>
<li><code>no-preference</code> : indique que l’utilisateur n’a formulé aucune préférence. Cette valeur de mot clé est évaluée comme étant false dans le contexte booléen</li>
</ul>
<h2 id="s%E2%80%99en-saisir-en-tant-que-d%C3%A9veloppeur" tabindex="-1">S’en saisir en tant que développeur</h2>
<p>Tout d’abord il est plutôt simple de simuler la préférence via navigateur mais la fonctionnalité est caché. Il convient d’ouvrir le Chrome Dev Inspector (CTRl+SHIFT+I) puis ouvrir le <code>...</code> du bandeau “Console” puis cliquer sur “More Tools” puis “Rendering”.</p>
<p><video controls muted src="/img/activer-reduced-motion-navigateur.mp4" aria-description="Activer prefers-reduced-motion dans le navigateur" title="Activer prefers-reduced-motion dans le navigateur"></video></p>
<p>Pour adapter le code en fonction de la préférence sélectionnée par l’utilisateur, il est possible de cibler via une requête CSS :</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/*
  Si l'utilisateur a exprimé le souhait, ne pas montrer l'animation sur les boutons.
*/</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> reduce<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">button</span> <span class="token punctuation">{</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
  Si l'utilisateur n'a pas statué sur la préférence, montrer l'animation.
*/</span>
<span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">button</span> <span class="token punctuation">{</span>
    <span class="token comment">/* `vibrate` keyframes are defined elsewhere */</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> vibrate 0.3s linear infinite both<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>Il est également possible d’utiliser Javascript pour détecter la préference, et choisir de jouer en conséquence ou adapter les animations :</p>
<pre class="language-js"><code class="language-js">  <span class="token comment">// On attrape la préférence exprimée par l'utilisateur</span>
    <span class="token keyword">let</span> prefersReducedMotion <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">"(prefers-reduced-motion: reduce)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>matches<span class="token punctuation">;</span>

    <span class="token comment">// SI L'UTILISATEUR N'A PAS ACTIVÉ prefers-reduced-motion alors on déroule l'animation</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prefersReducedMotion<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      gsap<span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span>
        <span class="token string">".intersect"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token string">"-20dvh"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
          <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
          <span class="token literal-property property">ease</span><span class="token operator">:</span> <span class="token string">"power2.out"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span></code></pre>
<h2 id="d%C3%A9monstration" tabindex="-1">Démonstration</h2>
<p><video controls muted src="/img/prefers-reduced-motion.mp4" aria-description="Démonstration de l'avant après du déroulement des animations en fonction de la préférence exprimée par l'utilisateur" title="Démonstration de l'avant après du déroulement des animations en fonction de la préférence exprimée par l'utilisateur"></video></p>
<h2 id="sources" tabindex="-1">Sources</h2>
<div id="dhrX_biPH8c" class="eleventy-plugin-youtube-embed" style="position:relative;width:100%;padding-top: 56.25%;"><iframe style="position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;" width="100%" height="100%" frameborder="0" title="Embedded YouTube video" src="https://www.youtube-nocookie.com/embed/dhrX_biPH8c" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
<p><a href="https://www.w3.org/WAI/WCAG22/Techniques/css/C39.html/">https://www.w3.org/WAI/WCAG22/Techniques/css/C39.html/</a></p>
<p><a href="https://web.dev/articles/prefers-reduced-motion?hl=fr/">https://web.dev/articles/prefers-reduced-motion?hl=fr/</a></p>

          </article>
          <div id="partage">
          <h2>Partager avec votre réseau</h2>
          <button id="partage-btn" type="button" aria-label="partager ce contenu">
            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M237.66,106.35l-80-80A8,8,0,0,0,144,32V72.35c-25.94,2.22-54.59,14.92-78.16,34.91-28.38,24.08-46.05,55.11-49.76,87.37a12,12,0,0,0,20.68,9.58h0c11-11.71,50.14-48.74,107.24-52V192a8,8,0,0,0,13.66,5.65l80-80A8,8,0,0,0,237.66,106.35ZM160,172.69V144a8,8,0,0,0-8-8c-28.08,0-55.43,7.33-81.29,21.8a196.17,196.17,0,0,0-36.57,26.52c5.8-23.84,20.42-46.51,42.05-64.86C99.41,99.77,127.75,88,152,88a8,8,0,0,0,8-8V51.32L220.69,112Z"></path></svg>
            Partager
          </button>
          </div>
        </main>
        <footer id="footer">
          <address>
  <a
    href="mailto:teotime.pac@outlook.fr?subject=Demande de contact depuis teotimepacreau.fr"
    >teotime.pac<span class="hidden">anti</span>&#64;<span class="hidden"
      >spam</span
    >outlook.fr</a
  >
  <a id="rss" href="/feed/feed.xml">
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M106.91,149.09A71.53,71.53,0,0,1,128,200a8,8,0,0,1-16,0,56,56,0,0,0-56-56,8,8,0,0,1,0-16A71.53,71.53,0,0,1,106.91,149.09ZM56,80a8,8,0,0,0,0,16A104,104,0,0,1,160,200a8,8,0,0,0,16,0A120,120,0,0,0,56,80Zm118.79,1.21A166.9,166.9,0,0,0,56,32a8,8,0,0,0,0,16A151,151,0,0,1,163.48,92.52,151,151,0,0,1,208,200a8,8,0,0,0,16,0A166.9,166.9,0,0,0,174.79,81.21ZM60,184a12,12,0,1,0,12,12A12,12,0,0,0,60,184Z"></path></svg>
    <span>RSS</span>
  </a>
</address>
<ul aria-label="Mes réseaux sociaux" id="links">
  <li>
    <a
      class="social-footer"
      href="https://github.com/teotimepacreau"
      target="_blank" rel="me"
    >
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M208.31,75.68A59.78,59.78,0,0,0,202.93,28,8,8,0,0,0,196,24a59.75,59.75,0,0,0-48,24H124A59.75,59.75,0,0,0,76,24a8,8,0,0,0-6.93,4,59.78,59.78,0,0,0-5.38,47.68A58.14,58.14,0,0,0,56,104v8a56.06,56.06,0,0,0,48.44,55.47A39.8,39.8,0,0,0,96,192v8H72a24,24,0,0,1-24-24A40,40,0,0,0,8,136a8,8,0,0,0,0,16,24,24,0,0,1,24,24,40,40,0,0,0,40,40H96v16a8,8,0,0,0,16,0V192a24,24,0,0,1,48,0v40a8,8,0,0,0,16,0V192a39.8,39.8,0,0,0-8.44-24.53A56.06,56.06,0,0,0,216,112v-8A58.14,58.14,0,0,0,208.31,75.68ZM200,112a40,40,0,0,1-40,40H112a40,40,0,0,1-40-40v-8a41.74,41.74,0,0,1,6.9-22.48A8,8,0,0,0,80,73.83a43.81,43.81,0,0,1,.79-33.58,43.88,43.88,0,0,1,32.32,20.06A8,8,0,0,0,119.82,64h32.35a8,8,0,0,0,6.74-3.69,43.87,43.87,0,0,1,32.32-20.06A43.81,43.81,0,0,1,192,73.83a8.09,8.09,0,0,0,1,7.65A41.72,41.72,0,0,1,200,104Z"></path></svg>
      <span>Github</span>
    </a>
  </li>
  <li>
    <a
      class="social-footer"
      href="https://mastodon.design/@teotimepacreau"
      target="_blank" rel="me"
    >
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M184,32H72A40,40,0,0,0,32,72V192a40,40,0,0,0,40,40h88a8,8,0,0,0,0-16H72a24,24,0,0,1-24-24v-8H184a40,40,0,0,0,40-40V72A40,40,0,0,0,184,32Zm24,112a24,24,0,0,1-24,24H48V72A24,24,0,0,1,72,48H184a24,24,0,0,1,24,24Zm-24-40v32a8,8,0,0,1-16,0V104a16,16,0,0,0-32,0v32a8,8,0,0,1-16,0V104a16,16,0,0,0-32,0v32a8,8,0,0,1-16,0V104a32,32,0,0,1,56-21.13A32,32,0,0,1,184,104Z"></path></svg>
      <span>Mastodon</span>
    </a>
  </li>
  <li>
    <a
      class="social-footer"
      href="https://www.linkedin.com/in/teotime-p-a1194b20a/"
      target="_blank" rel="me"
    >
    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="var(--txt)" viewBox="0 0 256 256"><path d="M216,24H40A16,16,0,0,0,24,40V216a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V40A16,16,0,0,0,216,24Zm0,192H40V40H216V216ZM96,112v64a8,8,0,0,1-16,0V112a8,8,0,0,1,16,0Zm88,28v36a8,8,0,0,1-16,0V140a20,20,0,0,0-40,0v36a8,8,0,0,1-16,0V112a8,8,0,0,1,15.79-1.78A36,36,0,0,1,184,140ZM100,84A12,12,0,1,1,88,72,12,12,0,0,1,100,84Z"></path></svg>
      <span>LinkedIn</span>
    </a>
  </li>
</ul>
<ul aria-label="Scores de performance" id="stats">
  <li>
    <a
      class="social-footer"
      href="https://www.ecoindex.fr/resultat/?id=0b81b2d0-19ae-413a-8fcc-dac29c36ea9e"
      target="_blank"
      title="Consulter le score ecoindex de creasit.fr (nouvel onglet)"
      >Score d'éco-conception <span class="ecoindex">B</span></a
    >
  </li>
</ul>

        </footer>
        <!--Script pour ouvrir tous les liens markdown dans une nouvelle fenêtre-->
        <script>
          (function () {
            const links = document.querySelectorAll(
              "a[href^='https://'], a[href^='http://']"
            );
            const host = window.location.hostname;

            const isInternalLink = (link) => new URL(link).hostname === host;

            links.forEach((link) => {
              if (isInternalLink(link)) return;

              link.setAttribute("target", "_blank");
              link.setAttribute("rel", "noopener");
            });
          })();
        </script>
      </div>
    </div>
    <script fetchpriority="high" src="/scripts/colorTheme.js"></script>
<script defer src="/scripts/aria-current.js"></script>
    <script defer src="/scripts/table.js"></script>
    <script defer src="/scripts/share.js"></script>
  </body>
</html>
